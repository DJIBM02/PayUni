<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="PayUni.Pages.LoginPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    BackgroundColor="{StaticResource SurfaceLight}"
    Title="Connexion">

    <VerticalStackLayout Padding="20" Spacing="16" VerticalOptions="Center">
        <Label
            FontSize="32"
            FontAttributes="Bold"
            Text="PayUni"
            TextColor="{StaticResource PrimaryBrand}"
            HorizontalTextAlignment="Center" />

        <Label
            Text="Bienvenue"
            Style="{StaticResource HeadingStyle}"
            HorizontalTextAlignment="Center" />

        <Entry
            Placeholder="Email"
            Text="{Binding Email}"
            PlaceholderColor="{StaticResource TextSecondary}"
            TextColor="{StaticResource TextPrimary}"
            Padding="12"
            BackgroundColor="{StaticResource PrimaryLight}"
            CornerRadius="8" />

        <Entry
            Placeholder="Mot de passe"
            IsPassword="True"
            Text="{Binding Password}"
            PlaceholderColor="{StaticResource TextSecondary}"
            TextColor="{StaticResource TextPrimary}"
            Padding="12"
            BackgroundColor="{StaticResource PrimaryLight}"
            CornerRadius="8" />

        <Label
            Text="{Binding ErrorMessage}"
            TextColor="{StaticResource AccentDanger}"
            FontSize="{StaticResource CaptionSize}"
            IsVisible="{Binding ErrorMessage, Converter={StaticResource StringToBool}}" />

        <Button
            Text="Se connecter"
            Command="{Binding SignInCommand}"
            Style="{StaticResource PrimaryButtonStyle}"
            IsEnabled="{Binding IsLoading, Converter={StaticResource InvertedBoolConverter}}" />

        <StackLayout Orientation="Horizontal" HorizontalOptions="Center" Spacing="4">
            <Label Text="Pas encore de compte?" Style="{StaticResource BodyStyle}" />
            <Label Text="S'inscrire" TextColor="{StaticResource PrimaryBrand}" FontAttributes="Bold">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding SignUpCommand}" />
                </Label.GestureRecognizers>
            </Label>
        </StackLayout>
    </VerticalStackLayout>

</ContentPage>
